<!DOCTYPE html>
<html ng-app="taskListApp">
<head>
<meta charset="utf-8">
<title>An Ubuntu HTML5 application</title>
<meta name="description" content="An Ubuntu HTML5 application">
<meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1, user-scalable=0">

    <!-- Ubuntu UI Style imports - Ambiance theme -->
    <link href="/usr/share/ubuntu-html5-ui-toolkit/0.1/ambiance/css/appTemplate.css" rel="stylesheet" type="text/css" />

    <link href="css/tasklist.css" rel="stylesheet" type="text/css" />

    <!-- Ubuntu UI javascript imports - Ambiance theme -->
    <script src="/usr/share/ubuntu-html5-ui-toolkit/0.1/ambiance/js/fast-buttons.js"></script>
    <script src="/usr/share/ubuntu-html5-ui-toolkit/0.1/ambiance/js/core.js"></script>
    <script src="/usr/share/ubuntu-html5-ui-toolkit/0.1/ambiance/js/buttons.js"></script>
    <script src="/usr/share/ubuntu-html5-ui-toolkit/0.1/ambiance/js/dialogs.js"></script>
    <script src="/usr/share/ubuntu-html5-ui-toolkit/0.1/ambiance/js/page.js"></script>
    <script src="/usr/share/ubuntu-html5-ui-toolkit/0.1/ambiance/js/pagestacks.js"></script>
    <script src="/usr/share/ubuntu-html5-ui-toolkit/0.1/ambiance/js/tabs.js"></script>

    <!-- Cordova platform API access - Uncomment this to have access to the Javascript APIs -->
    <!-- <script src="cordova/cordova.js"></script> -->

    <!-- Application script -->
    <script src="js/jquery.js"></script>
    <script src="js/app.js"></script>
    <script src="js/angular.js"></script>
    <script src="js/angular-animate.js"></script>
    <script src="js/controllers.js"></script>
    </head>

  <body ng-controller="TaskListCtrl">

    <div data-role="mainview">

      <header data-role="header">
      <ul data-role="tabs">
      <li data-role="tabitem" data-page="hello-page">My Task List</li>
      </ul>
      </header>

      <div data-role="content">

          <!-- The application main page -->

          <div data-role="page" id="hello-page">
          <section>
          <form ng-submit="addTask()" class="" role="form">
          <div class="form-group">
          <label class="" for="backendCredentials">Task</label>
          <input
          id="taskDescription" class="form-control" type="text"
          ng-model="newTask" placeholder="Write task here" required="required" />
          </div>
          <button  data-role="button" type="submit" >Add</button>
          </form>
</section>

          <section data-role="list" ng-repeat="category in categories">
          <div ng-show="category[1].length > 0">

            <header class="large-font">{{category[0]}}</header>

          <ul data-role="listview" ng-repeat="task in category[1]">
          <li>
          <input type="checkbox" ng-model="task.done"/>

        <span ng-class="{'done': task.done, 'overdue' : task.dueDate !=null && task.dueDate < getDay(0)}">{{task.desc}}</span>

<button data-role="button" class="datebutton" onClick="displayDate()" ng-click="setTask(task)" ng-if="task.dueDate != null">{{task.dueDate|date}}</button>
<button data-role="button" class="datebutton" onClick="displayDate()" ng-click="setTask(task)" ng-if="task.dueDate === null">No date</button>

          </li>
          </ul>
          </div>
          </section>


            <div data-role="dialog" id="dateDialog" class="date-dialog">
            <section>
            <h1>Choose due date for task</h1>
            <menu>

                        <button data-role="button" ng-click="currentTask.dueDate = getDay(0)" onClick="hideDate()" >Today</button>
                        <button data-role="button" ng-click="currentTask.dueDate = getDay(1)" onClick="hideDate()" >Tomorrow</button>
                        <button data-role="button" ng-click="currentTask.dueDate = null" onClick="hideDate()" >No date</button>

                        <button data-role="button"  onClick="hideDate()">Cancel</button>
                        </menu>
                        </section>
                        </div>



          </div>


          </div>

      </div>
      
    </div>
    </body>
    </html>
